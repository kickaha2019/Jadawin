body {background: {{ colours.body }}; background-image: none}
p {margin-top: 0px}

{% if config.logo %}
.logo {width: 350px;
       height: 50px;
       background-image: url("{{ page.root }}/{{ config.logo[0] }}");
       margin-left: auto; margin-right: auto; margin-top: 0px; margin-bottom: 0px;}
{% endif %}

{% if page.overlay %}
.overlay {position: fixed; display: none; z-index: 100;
          width: 100vw; height: 100vh; left: 0px; right: 0px;
          align-items: center; justify-content: center}
.overlay_back  {position: fixed; z-index: 101;
                width: 100vw; height: 100vh;
                background: rgba(0,0,0,0.75);}
#overlay_image {z-index: 102}
.overlay_front {position: fixed; z-index: 103;
                width: 100vw; height: 100vh;
                background: rgba(0,0,0,0.01);}
{% endif %}

.page {width: 360px; background: {{ colours.page }}; box-sizing: border-box;
       border-radius: 5px; margin-left: auto; margin-right: auto;
       min-height: 96vh}
.content {width: {{ widths.content[0] }}px; margin-left: auto; margin-right: auto;
          margin-top: 0px; margin-bottom: 0px; padding-top: 5px}
.payload {display: flex;
          flex-flow: column nowrap;
          align-items: stretch;
          justify-content: center}
.breadcrumbs {display: block}
.right {float: right; margin: 0 0 10px 10px}
.left {float: left; margin: 0 10px 10px 0}
.centre {margin-left: auto; margin-right: auto; display: block;
         margin-top: 0px; margin-bottom: 1em;}

.story {min-width: 185px; max-width: {{ widths.content[0] }}px; padding-top: 10px;
        box-sizing: border-box; overflow: hidden}

div.title      {display: flex; justify-content: space-between;
                align-items: center}
div.title span {text-decoration: underline; color: {{ colours.text }} }
div.title div  {text-align: center}
div.title a    {text-decoration: none}
{% if config.legend %}
div.legend     {text-align: center; color: white; font-size: 18px;}
{% endif %}

.text_indexes {padding-top: 10px; padding-bottom: 10px; background: {{ colours.index }}}
.index {display: flex; align-items: center; justify-content: center;
        flex-flow: column nowrap; width: 128px;
        border-style: solid; border-width: 1px; border-color: {{ colours.page }};
        border-radius: 5px; padding: 3px; margin: 5px}
.dummy {height: 1px}
.index div {width: 100%; text-align: center}
.border_white {border-color: {{ colours.here }}}
.index_text {width: 100%;}

.story_index {display: none; padding-bottom: 25px;
              flex-wrap: wrap; justify-content: center;
              margin-left: auto; margin-right: auto}
.story_index a {padding-left: 15px; padding-right: 15px;}

.size3, .size2, .size1 {display: none}
.size0 {display: block}

.t0, .t1, h1 {font-family: Tahoma, sans-serif; font-size: 14px; color: {{ colours.text }}}
a, a div {color: {{ colours.anchor }}}
.t0 {text-decoration: none}
a:hover, a:hover div {color: {{ colours.hover }}}
span, b {color: {{ colours.here }}}

em {font-style: normal; color: {{ colours.emphasized }}}
.code {background: {{ colours.here }}; color: {{ colours.code }};
       font-size: 14px; font-family: Courier, monospace}
h1 {width: 100%; text-align: center; text-decoration: underline; font-weight: normal}

table {border-spacing: 0px; border-collapse: collapse}
table th {padding: 5px; border-style: solid;
          border-width: 1px; border-color: {{ colours.here }};
          font-weight: bold; text-align: center}
table td {padding: 5px; border-style: solid;
          border-width: 1px; border-color: {{ colours.here }}}

table {margin-left: auto; margin-right: auto; margin-bottom: 1em}
td p {margin: 0px}

{% if page.content %}
  {% render 't_content_css', with widths:widths, colours:colours, content:page.content, dimensions:dimensions, size:0 %}
{% endif %}
{% render 't_image_indexes_css' with colours:colours, image_index:page.image_index, size:0 %}
{% render 't_rect_indexes_css' with config:config, rect_index:page.rect_index, size:0 %}

@media all and (min-width: {{ widths.browser[1] }}px) {
{% if page.overlay %}
  #overlay_image img {max-width: {{ dimensions.overlay[1][0] }}px;
                      max-height: {{ dimensions.overlay[1][1] }}px}
{% endif %}
{% if config.logo %}
  .logo {width: 748px;
         height: 100px;
       background-image: url("{{ page.root }}/{{ config.logo[1] }}")}
{% endif %}
  div.page {width: {{ widths.browser[1] }}px; border-radius: 10px; padding-top: 10px}
  .content {width: {{ widths.content[1] }}px; padding-top: 10px}
  .size0 {display: none}
  .size1 {display: flex}
  .t0, .t1, h1, .news-date, .code {font-size: 20px}
  .news {flex-direction: row}
  .document {flex-direction: row-reverse; justify-content: space-between}
  .text_indexes {margin-right: 20px}
  .story_index {display: flex}
  .story {flex-grow: 1; max-width: {{ widths.content[1] }}px}
{% if config.legend %}
  div.legend {font-size: 24px;}
{% endif %}
  {% if page.content %}
    {% render 't_content_css', colours:colours, content:page.content, dimensions:dimensions, size:1 %}
  {% endif %}
  {% render 't_image_indexes_css' with colours:colours, image_index:page.image_index, size:1 %}
  {% render 't_rect_indexes_css' with config:config, rect_index:page.rect_index, size:1 %}
}

@media all and (min-width: {{ widths.browser[2] }}px) {
{% if page.overlay %}
  #overlay_image img {max-width: {{ dimensions.overlay[2][0] }}px;
                      max-height: {{ dimensions.overlay[2][1] }}px}
{% endif %}
{% if config.logo %}
  .logo {width: 1250px;
         height: 150px;
       background-image: url("{{ page.root }}/{{ config.logo[2] }}")}
{% endif %}
  div.page {width: {{ widths.browser[2] }}px; border-radius: 15px; padding-top: 15px}
  .content {width: {{ widths.content[2] }}px; padding-top: 15px}
  .size1 {display: none}
  .size2 {display: block}
  .text_indexes {margin-right: 40px}
  .story {max-width: {{ widths.content[2] }}px; padding-left: 0px}
{% if config.legend %}
  div.legend {font-size: 32px;}
{% endif %}
  .index {width: 196px}
  .t0, .t1, h1 .code {font-size: 24px}
  {% if page.content %}
    {% render 't_content_css', colours:colours, content:page.content, dimensions:dimensions, size:2 %}
  {% endif %}
  {% render 't_image_indexes_css' with colours:colours, image_index:page.image_index, size:2 %}
  {% render 't_rect_indexes_css' with config:config, rect_index:page.rect_index, size:2 %}
}

@media all and (min-width: {{ widths.browser[3] }}px) {
{% if page.overlay %}
  #overlay_image img {max-width: {{ dimensions.overlay[3][0] }}px;
                      max-height: {{ dimensions.overlay[3][1] }}px}
{% endif %}
{% if config.logo %}
  .logo {width: 1880px;
         height: 200px;
       background-image: url("{{ page.root }}/{{ config.logo[3] }}")}
{% endif %}
  div.page {width: {{ widths.browser[3] }}px; border-radius: 20px; padding-top: 20px}
  .content {width: {{ widths.content[3] }}px; padding-top: 20px}
  .size2 {display: none}
  .size3 {display: block}
  .t0, .t1, h1, .code {font-size: 30px}
  .story {max-width: {{ widths.content[3] }}px}
{% if config.legend %}
  div.legend {font-size: 36px;}
{% endif %}
  .index {width: 244px}
  {% if page.content %}
    {% render 't_content_css', colours:colours, content:page.content, dimensions:dimensions, size:3 %}
  {% endif %}
  {% render 't_image_indexes_css' with colours:colours, image_index:page.image_index, size:3 %}
  {% render 't_rect_indexes_css' with config:config, rect_index:page.rect_index, size:3 %}
}

div.children {margin-left: auto; margin-right: auto}

div.centre     {text-align: center; padding-bottom: 10px}
div.heading    {text-align: center; text-decoration: underline; padding-bottom: 20px}
div.text       {padding-bottom: 20px; text-align: left}

{% render 't_navigation_css' with widths:widths, colours:colours, page:page %}

